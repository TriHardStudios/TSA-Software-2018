<!DOCTYPE html>
<html lang="en">
    <!--
        This is the html file for Monarch Animation. This file has the new UI.. And a lot of bugs.

        This file is licensed under the Apache 2.0 license.
        That means that you can freely use and modify this code for all uses except for
            commercial use provided this header is at the top of all files
        Copyright 2018-2019 Monarch TSA

        Authors Jordan, Corbin, Daniel, Gregory, Jesse
        Edited 6/22/19
        Rev 100

        TODO: NOTHING
    -->
    <head>
        <meta charset="UTF-8">
        <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script><!--This lets Electron run external script files-->
        <style>
            input[type=number]::-webkit-inner-spin-button,
            input[type=number]::-webkit-outer-spin-button {
                -webkit-appearance: none;
                margin: 0;
            }
            @media screen and (min-width: 900px) {
                #monarchAnimation_title {
                    font-size: 60pt !important;
                }
            }
            .bottom_menu_spacer{
                height: 65px;
            }
        </style>
        <!--INCLUDES-->
        <script src="animationEngine/three.js"></script>
        <script src="helperScripts/jquery-3.3.1.min.js"></script>
<!--        <script src="helperScripts/watch.js"></script>-->
        <!--FONTS-->
        <!--
        These are being included now because everything uses them
        -->
        <link href="style/fonts/robotoSlab.css" rel="stylesheet"><!--imports Roboto Slab with the font weights 400 and 300-->
        <link href="style/fonts/openSans.css" rel="stylesheet"><!--imports Open Sans with the font weight 400-->

        <!--Backend Scripts-->
        <!--Save Engine-->
        <!--FIREbase!-->
        <script src="https://www.gstatic.com/firebasejs/6.1.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/6.1.1/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/6.1.1/firebase-firestore.js"></script>
        <script src="https://www.gstatic.com/firebasejs/6.1.1/firebase-database.js"></script>
<!--        <script src="saveEngine/firebase.js"></script>-->
        <!--Not FIREbase-->
        <script src="./saveEngine/helperScripts/base64.js"></script>
        <script src="./saveEngine/helperScripts/localStorage.js"></script>
        <script src="./saveEngine/helperScripts/conversion.js"></script>
        <script src="./saveEngine/helperScripts/cloudStorage.js"></script>
        <script src="./saveEngine/storage2.0.js"></script>
<!--        <script src="saveEngine/storage.js"></script>-->

        <!--MISC-->
        <!--
        (these are still important just not part of a bigger part)
        -->
        <script defer src="helperScripts/ccapture.js"></script>
        <script src="helperScripts/keyevents.js"></script>
        <script src="menus.js"></script>
        <script src="tutorial.js"></script>
        <script src="settings.js"></script>

        <!--Frontend-->
        <!--
        it is very important that these are called in this order.
        -->
        <script src="helperScripts/UI_helper_scripts/popUpControls.js"></script>
        <script src="helperScripts/UI_helper_scripts/diemsions.js"></script>
        <script id="newStyleJS" src="helperScripts/UI_helper_scripts/newStyle.js"></script>
        <title>Monarch Animation</title>

        <link id="defaultStyle" rel="stylesheet" type="text/css" href="style/default_Style.css"/>
    </head>
    <body>
    <div id="std_ws_container">
        <h1 style="min-width: 100%; text-align: center; top: 10%; left: initial; font-size: 9vw;" id="monarchAnimation_title">
            Monarch Animation
        </h1>
        <div id="ws_box3"  >
            <div id="ws_box2" >
                <div id="ws_box1" >
                    <h1>
                        Welcome to
                    </h1>
                </div>
            </div>
        </div>
        <div id="ws_body">
            <span class="std_ws_button ws_color" style="top:5%; left: calc(50% - 225px);"
                  onclick="saveEngine.localNewSave = true; initMainUI(); start();"
            >Start from Scratch</span>
            <select class="std_ws_button ws_color" id="ws_loadMenu" style="top:65px; left:calc(50% - 100px)"
                    onchange="saveEngine.localNewSave = false;  initMainUI(); start();" >
                <option>Load Save</option>
            </select>
            <span class="std_ws_button ws_color" style="top:5%; left:calc(50% + 25px); "
                  onclick="saveEngine.localNewSave = true; prepTutorial = true; initMainUI(); start();" >View Tutorial</span>
        </div>
    </div>
    <div id="std_body">
        <!--
            Navigation Bar
        -->

        <div id="std_nav_bar">
             <!---Left Aligned Buttons-->
            <span class="std_nav_button" id="nav_shapesList" onclick="showMenu('menu_shapesList'); addfortutorial('shape_list'); showList(); ">
                <img onclick="/*showMenu('menu_shapesList');*/ addfortutorial(); showList(); " src="./style/assets/svgs/nav_icons/nav_shapes_icon.svg"
                         class="nav_buttonIcon std_icon_normal"/>

                <img onclick="/*showMenu('menu_shapesList');*/ addfortutorial(); showList(); " src="./style/assets/svgs/nav_icons/nav_shapes_dark_icon.svg"
                         class="nav_buttonIcon std_icon_dark"/>

            </span>
            <span class="std_nav_button" id="nav_newShape" onclick="showMenu('menu_newShapes'); addfortutorial('animation_element_menu');">

                    <img onclick="/*showMenu('menu_newShapes');*/"
                         src="./style/assets/svgs/nav_icons/nav_animationElements_icon.svg" class="nav_buttonIcon std_icon_normal"/>

                <img onclick="/*showMenu('menu_newShapes');*/"
                         src="./style/assets/svgs/nav_icons/nav_animationElements_dark_icon.svg" class="nav_buttonIcon std_icon_dark"/>

            </span>
            <span class="std_nav_button" id="nav_camera" onclick="showMenu('menu_camera'); tutorialMovement(120,120, 'This is the camera menu, here you can do things like change its position. To change these values, simply click on the numbers like you did with the shapes dimentions.'  ,0);">
                    <img onclick="/*showMenu('menu_camera');*/ tutorialMovement(120,120,'This is the camera menu, here you can do things like change its position. To change these values, simply click on the numbers like you did with the shapes dimentions.',0);" src="./style/assets/svgs/nav_icons/nav_camera_icon.svg"
                         class="nav_buttonIcon std_icon_normal"/>

                <img onclick="/*showMenu('menu_camera');*/ tutorialMovement(120,120,'This is the camera menu, here you can do things like change its position. To change these values, simply click on the numbers like you did with the shapes dimentions.',0);" src="./style/assets/svgs/nav_icons/nav_camera_dark_icon.svg"
                         class="nav_buttonIcon std_icon_dark"/>

            </span>
            <!--
            This menu has been moved and its controls relocated to the timeline
            <span class="std_nav_button" id="nav_keyframes" onclick="showMenu('menu_keyframes')"></span>
            -->
            <span class="std_nav_button" id="nav_scene" onclick="showMenu('menu_scene'); tutorialMovement(120,120,'This is the scene menu. Any changes to this field will alter everything in the scene by the changed amount.',0)">
                  <img onclick="/*showMenu('menu_scene');*/ tutorialMovement(120,120,'This is the scene menu. Any changes to this field will alter everything in the scene by the changed amount.',0)" src="./style/assets/svgs/nav_icons/nav_scene_icon.svg"
                         class="nav_buttonIcon std_icon_normal"/>

                <img onclick="/*showMenu('menu_scene');*/ tutorialMovement(120,120,'This is the scene menu. Any changes to this field will alter everything in the scene by the changed amount.',0)" src="./style/assets/svgs/nav_icons/nav_scene_dark_icon.svg"
                         class="nav_buttonIcon std_icon_dark"/>

            </span>

            <!--Spacer to get rid of big bars--> 

            <span class="std_nav_spacer" id="nav_spacer_left"></span>

            <!--Status Box-->
            <div id="std_statusBox">
                <div id="status_body">

                </div>
                <div id="status_ver">

                </div>

            </div>

            <!--Spacer to get rid of big bars-->

            <span class="std_nav_spacer" id="nav_spacer_right"></span>

            <!--Right Aligned Buttons-->
            <span class="std_nav_button std_nav_alignRight" id="nav_settings"
                  onclick="settingsToggle(); addfortutorial('setting_menu')">

                    <img onclick="/*settingsToggle();*/"
                         src="./style/assets/svgs/nav_icons/nav_settings_icon.svg" class="nav_buttonIcon std_icon_normal"/>

                <img onclick="/*settingsToggle();*/"
                         src="./style/assets/svgs/nav_icons/nav_settings_dark_icon.svg" class="nav_buttonIcon std_icon_dark"/>

            </span>


<!--            <span class="std_nav_button std_nav_alignRight" id="nav_mobile_hide" onclick="mobileHideSideBar()">-->
<!--                    X-->
<!--                </span>-->

        </div>


        <!--
            Left Aligned menus
        -->
        <div id="std_menu_container">
            <div class="std_menu menu_hidden" id="menu_shapesList">
                <h2>
                    Elements
                </h2>
                <h3>
                    Shapes
                </h3>

                <div class="std_body_elementList" id="shapesList_shapes">
                    <ul>

                    </ul>

                </div>

                <h3>
                    Lights
                </h3>
                <div class="std_body_elementList" id="shapesList_lights">
                    <ul>

                    </ul>

                </div>
            </div>

            <div class="std_menu menu_hidden" id="menu_newShapes">
                <h2>
                    New Elements
                </h2>
                <!-- Whole create / edit menu -->
                <div id="newElement_Create">
                    <h3>

                        New Shape
                    </h3>
                    <div class="std_body_list" style="max-width: initial; width: 100%;">
                        <select class="list_body"
                        onclick="if(this.value==='newShape') {addfortutorial('new_shape');}"
                        onchange="if(this.value !== 'newShape'){console.log(this.value);newShape(this.value,0,0,0,0,0,0,'#FF0000','#000000');} this.selectedIndex = 0;"
                        id="newShapes_select">
                            <option value="newShape">Create Shape</option>
                            <option value="cube">New Cube</option>
                            <option value="cylinder">New Cylinder</option>
                            <option value="cone">New Cone</option>
<!--                            <option value="custom">New Custom Shape</option>-->
                            <option value="dodecahedron">New Dodecahedron</option>
                            <option value="icosahedron">New Icosahedron</option>
                            <option value="octahedron">New Octahedron</option>
                            <option value="sphere">New Sphere</option>
                            <option value="pyramid">New Pyramid</option>
                            <option value="textIn">New Text</option>
                            <option value="ring">New Ring</option>
                        </select>
                        <span class="list_bar"></span>
                    </div>
                    <h3>
                        Upload OBJ
                    </h3>
                    <div class="std_body_button" onclick="document.getElementById('newShape_OBJUploader').click();">
                        <span class="button_body">Upload OBJ</span>
                        <span class="button_bar"></span>
                    </div>
                    <!--This is a hidden element to clean up the UI a little-->
                    <input id="newShape_OBJUploader" type="file" accept=".obj, .OBJ" style="display: none;"/>
                    <h3>
                        New Light
                    </h3>
                    <div class="std_body_list" style="max-width: initial; width: 100%;">
                        <select class="list_body"
                                onchange="if(this.value !== 'newLight'){newLight(this.value,'#FFFFFF',100,0,0,0,'#FF0000');} this.selectedIndex = 0;"
                                id="newLights_select">
                            <option value="newLight">Create Light</option>
                            <option value="ambient">Ambient Light</option>
                            <option value="point">Point Light</option>
                            <option value="directional">Directional Light</option>
                            <option value="spot">Spot Light</option>
                            <option value="hemisphere">Hemisphere Light</option>
                        </select>
                        <span class="list_bar"></span>
                    </div>
                </div>


                <!-- Editing selected shape -->
                <h3>Edit Current <h3 id="currentEditing_type">Shape</h3></h3>
                <div id="element_Information">
                    <div id="currentEditing_dimensions">

                        <h3>
                            Dimensions
                        </h3>
                      
                        <div class="std_input_text">
                            <input type="number" step="any" id="diemsions_x" onchange="resizeShape('x', Number(this.value)); addfortutorial('dimenX')"  required>
                            <span class="text_highlight"></span>
                            <span class="text_bar"></span>
                            <label>X</label>
                        </div>
                        <div class="std_input_text">
                            <input type="number" step="any" id="diemsions_y" onchange="resizeShape('y', Number(this.value)); addfortutorial('dimenY')"  required>
                            <span class="text_highlight"></span>
                            <span class="text_bar"></span>
                            <label>Y</label>
                        </div>
                        <div class="std_input_text">
                            <input type="number" step="any" id="diemsions_z" onchange="resizeShape('z', Number(this.value));"  required>
                            <span class="text_highlight"></span>
                            <span class="text_bar"></span>
                            <label>Z</label>
                        </div>
                    </div>
                    <div id="currentEditing_positions">
                        <h3>
                            Position
                        </h3>
                        <div class="std_input_text">
                            <input type="number" step="any" id="position_x" onchange="moveElement('x', Number(this.value))" required>
                            <span class="text_highlight"></span>
                            <span class="text_bar"></span>
                            <label>X</label>
                        </div>
                        <div class="std_input_text">
                            <input type="number" step="any" id="position_y" onchange="moveElement('y', Number(this.value));" required>
                            <span class="text_highlight"></span>
                            <span class="text_bar"></span>
                            <label>Y</label>
                        </div>
                        <div class="std_input_text">
                            <input type="number" step="any" id="position_z" onchange="moveElement('z', Number(this.value));" required>
                            <span class="text_highlight"></span>
                            <span class="text_bar"></span>
                            <label>Z</label>
                        </div>
                    </div>
                    <div id="currentEditing_rotation">
                        <h3>
                            Rotation
                        </h3>
                        <div class="std_input_text">
                            <input type="number" step="any" id="rotation_x" onchange="rotateShape('x', Number(this.value))" required>
                            <span class="text_highlight"></span>
                            <span class="text_bar"></span>
                            <label>X</label>
                        </div>
                        <div class="std_input_text">
                            <input type="number" step="any" id="rotation_y" onchange="rotateShape('y', Number(this.value));" required>
                            <span class="text_highlight"></span>
                            <span class="text_bar"></span>
                            <label>Y</label>
                        </div>
                        <div class="std_input_text">
                            <input type="number" step="any" id="rotation_z" onchange="rotateShape('z', Number(this.value));" required>
                            <span class="text_highlight"></span>
                            <span class="text_bar"></span>
                            <label>Z</label>
                        </div>
                    </div>
                    <div id="currentEditing_intensity">
                        <input type="range" min="0" max="100" value="100" id="intensity_slider" oninput="changeIntensity()" onchange="changeIntensity()">
                        <p style="margin-left:10px;">Intensity: <span id="intensity_value"></span>%</p>
                    </div>
                    <div id="currentEditing_spotlight_parameters">
                        <h3>
                            Target
                        </h3>
                        <div class="std_body_list" style="max-width: initial; width: 100%;">
                            <select class="list_body"
                                    onchange="setTarget(this.value)"
                                    id="target_select">
                                <option value="defaultTarget">Default Target</option>
                            </select>
                            <span class="list_bar"></span>
                        </div>
                        <div id="default_target_position">
                            <div class="std_input_text">
                                <input type="number" step="any" id="target_x" onchange="moveTarget('x', Number(this.value))" required>
                                <span class="text_highlight"></span>
                                <span class="text_bar"></span>
                                <label>X</label>
                            </div>
                            <div class="std_input_text">
                                <input type="number" step="any" id="target_y" onchange="moveTarget('y', Number(this.value));" required>
                                <span class="text_highlight"></span>
                                <span class="text_bar"></span>
                                <label>Y</label>
                            </div>
                            <div class="std_input_text">
                                <input type="number" step="any" id="target_z" onchange="moveTarget('z', Number(this.value));" required>
                                <span class="text_highlight"></span>
                                <span class="text_bar"></span>
                                <label>Z</label>
                            </div>
                        </div>

                        <h3>
                            Shadows
                        </h3>
                        <div class="std_input_checkboxes">
                            <input type="checkbox" id="light_castShadow" onchange="toggleCastShadow()" required>
                            <label>Casts Shadows</label>
                        </div>
                    </div>
                    <div id="currentEditing_shape_shadows">
                        <h3>
                            Shadows
                        </h3>
                        <div class="std_input_checkboxes">
                            <input type="checkbox" id="shape_castShadow" onchange="toggleCastShadow()" required>
                            <label>Casts Shadows</label>
                        </div>
                        <div class="std_input_checkboxes">
                            <input type="checkbox" id="shape_receiveShadow" onchange="toggleReceiveShadow()" required>
                            <label>Receives Shadows</label>
                        </div>
                    </div>
                    <div id="currentEditing_borders">
                        <h3>
                            Borders
                        </h3>
                        <div class="std_input_checkboxes">
                            <input type="checkbox" id="borders" value="borders" onchange="borderVisibility()" checked required>
                            <label>View Borders</label>
                        </div>
                    </div>
                    <h3>
                        Color
                    </h3>

                    <div class="std_input_color" id="element_color">
                        <input type="color" onchange="changeColor(this.value)">
                        Element Color
                    </div>

                    <div class="std_input_color" id="element_border_color">
                        <input type="color" onchange="borderChange(this.value)">
                        Border Color
                    </div>

                    <div id="element_visibility" class="std_body_button" onclick="toggleVisibility(); addfortutorial('hide_shape')" style="max-width: initial;">
                        <span class="button_body" id="element_visibility_button">Hide Element</span>
                        <span class="button_bar"></span>
                    </div>
                    <div id="element_remove" class="std_body_button" onclick="removeElement()" style="max-width: initial;">
                        <span class="button_body">Remove Element</span>
                        <span class="button_bar"></span>
                    </div>
                </div>
                <div class="bottom_menu_spacer">
                </div>
            </div>
             <!-- camera menu -->
            <div class="std_menu menu_hidden" id="menu_camera">
                <h2>
                    Camera Controls
                </h2>
                <h3>Camera Position</h3>
                <div class="std_input_text">
                    <input type="number" step="any" id="camera_x" onchange="moveCamera('x', Number(this.value)); tutorialMovement(120,120,'You just moved the camera. This will move the camera to the new position you just set. ',0);" required>
                    <span class="text_highlight"></span>
                    <span class="text_bar"></span>
                    <label>X</label>
                </div>
                <div class="std_input_text">
                    <input type="number" step="any" id="camera_y" onchange="moveCamera('y', Number(this.value));"  required>
                    <span class="text_highlight"></span>
                    <span class="text_bar"></span>
                    <label>Y</label>
                </div>
                <div class="std_input_text">
                    <input type="number" step="any" id="camera_z" onchange="moveCamera('z', Number(this.value));"  required>
                    <span class="text_highlight"></span>
                    <span class="text_bar"></span>
                    <label>Z</label>
                </div>
                    <div class="std_input_checkboxes">
                        <input type="checkbox"
                               onchange="if(this.checked){document.getElementById('advanced_camera_options').style.display='inherit';}else{document.getElementById('advanced_camera_options').style.display='none'}"
                               required>
                        <label>Show Advanced Options</label>
                    </div>
                <div id="advanced_camera_options" style="display: none">
                    <h3>
                        Advanced Camera Options
                    </h3>

                    <div class="std_input_checkboxes">
                        <input type="checkbox" id="advCamera_lockToggle" onchange="changeCameraLock()" checked required>
                        <label style="font-size: 11pt;">Lock Camera During Animation</label>
                    </div>

                    <div class="std_input_checkboxes">
                        <input type="checkbox" id="advCamera_circleToggle" onchange="changeCameraCircleRotation()" required>
                        <label style="font-size: 11pt;">Use Circular Camera Movement</label>
                    </div>

                    <h3>Camera Center</h3>
                    <div class="std_input_text">
                        <input type="number" step="any" id="advCamera_centerX" onchange="changeCameraCenter('x', Number(this.value));" required>
                        <span class="text_highlight"></span>
                        <span class="text_bar"></span>
                        <label>X</label>
                    </div>
                    <div class="std_input_text">
                        <input type="number" step="any" id="advCamera_centerY" onchange="changeCameraCenter('y', Number(this.value));" required>
                        <span class="text_highlight"></span>
                        <span class="text_bar"></span>
                        <label>Y</label>
                    </div>
                    <div class="std_input_text">
                        <input type="number" step="any" id="advCamera_centerZ" onchange="changeCameraCenter('z', Number(this.value));" required>
                        <span class="text_highlight"></span>
                        <span class="text_bar"></span>
                        <label>Z</label>
                    </div>

                    <h3>Camera Focus</h3>
                    <div class="std_input_text">
                        <input type="number" step="any" id="advCamera_focusX" onchange="changeCameraFocus('x', Number(this.value));" required>
                        <span class="text_highlight"></span>
                        <span class="text_bar"></span>
                        <label>X</label>
                    </div>
                    <div class="std_input_text">
                        <input type="number" step="any" id="advCamera_focusY" onchange="changeCameraFocus('y', Number(this.value));" required>
                        <span class="text_highlight"></span>
                        <span class="text_bar"></span>
                        <label>Y</label>
                    </div>
                    <div class="std_input_text">
                        <input type="number" step="any" id="advCamera_focusZ" onchange="changeCameraFocus('z', Number(this.value));" required>
                        <span class="text_highlight"></span>
                        <span class="text_bar"></span>
                        <label>Z</label>
                    </div>



                </div>
                <div class="bottom_menu_spacer">
                </div>

            </div>

            <div class="std_menu menu_hidden" id="menu_scene">
                <h2>
                    Scene Controls
                </h2>
                <h3>
                    Dimensions
                </h3>
                <div class="std_input_text">
                    <input type="number" step="any" id="scene_diemsions_x" onchange="sceneScale('x', Number(this.value));" required>
                    <span class="text_highlight"></span>
                    <span class="text_bar"></span>
                    <label>X</label>
                </div>
                <div class="std_input_text">
                    <input type="number" step="any" id="scene_diemsions_y" onchange="sceneScale('y', Number(this.value));" required>
                    <span class="text_highlight"></span>
                    <span class="text_bar"></span>
                    <label>Y</label>
                </div>
                <div class="std_input_text">
                    <input type="number" step="any" id="scene_diemsions_z" onchange="sceneScale('z', Number(this.value));" required>
                    <span class="text_highlight"></span>
                    <span class="text_bar"></span>
                    <label>Z</label>
                </div>
                <h3>
                    Position
                </h3>
                <div class="std_input_text">
                    <input type="number" step="any" id="scene_position_x" onchange="scenePosition('x', Number(this.value))" required>
                    <span class="text_highlight"></span>
                    <span class="text_bar"></span>
                    <label>X</label>
                </div>
                <div class="std_input_text">
                    <input type="number" step="any" id="scene_position_y" onchange="scenePosition('y', Number(this.value));" required>
                    <span class="text_highlight"></span>
                    <span class="text_bar"></span>
                    <label>Y</label>
                </div>
                <div class="std_input_text">
                    <input type="number" step="any" id="scene_position_z" onchange="scenePosition('z', Number(this.value));" required>
                    <span class="text_highlight"></span>
                    <span class="text_bar"></span>
                    <label>Z</label>
                </div>
                    <h3>
                        Rotation
                    </h3>
                    <div class="std_input_text">
                        <input type="number" step="any" id="scene_rotation_x" onchange="sceneRotation('x', Number(this.value))" required>
                        <span class="text_highlight"></span>
                        <span class="text_bar"></span>
                        <label>X</label>
                    </div>
                    <div class="std_input_text">
                        <input type="number" step="any" id="scene_rotation_y" onchange="sceneRotation('y', Number(this.value));" required>
                        <span class="text_highlight"></span>
                        <span class="text_bar"></span>
                        <label>Y</label>
                    </div>
                    <div class="std_input_text">
                        <input type="number" step="any" id="scene_rotation_z" onchange="sceneRotation('z', Number(this.value));" required>
                        <span class="text_highlight"></span>
                        <span class="text_bar"></span>
                        <label>Z</label>
                    </div>
                <h3>
                    Color
                </h3>
                <input type="color" onchange="sceneBackground(this.value)" id="scene_color">
                <div class="bottom_menu_spacer">
                </div>
            </div>
        </div>



        <!--
            Right Aligned Menu
        -->
        <div id="std_settings" class="settings_hide">

            <div id="settings_menu" class="settings_hide">
                <h2>
                    Settings
                </h2>

                <h2>
                    Camera
                </h2>
                <div class="std_input_text">
                    <input id="settings_mouseSensitivity" step="any" type="number" onchange="changeSensitivity(this.value)" required>
                    <span class="text_highlight"></span>
                    <span class="text_bar"></span>
                    <label>Mouse Sensitivity</label>
                </div>
                <div class="std_input_text">
                    <input id="settings_zoomAmount" step="any" type="number" onchange="changeZoomSensitivity(this.value)" required>
                    <span class="text_highlight"></span>
                    <span class="text_bar"></span>
                    <label>Zoom Sensitivity</label>
                </div>

                <h2>
                    Storage
                </h2>
                <div id="settings_cloudStorage" style="display:none;">
                    <h3>
                        Cloud Storage
                    </h3>

                    <div id="account_sub_signedIn" style="display: none">
                        <div class="std_body_button" onclick="">
                            <span class="button_body">Sign Out</span>
                            <span class="button_bar"></span>
                        </div>

                        <div class="std_body_button" onclick="saveEngine.save(false, true)">
                            <span class="button_body">Save to Cloud</span>
                            <span class="button_bar"></span>
                        </div>

                        <div class="std_body_list" style="max-width: initial; width: auto">
                            <select class="list_body" id="signedIn_loadSelector" onchange="saveEngine.downloadCloudSave(this.value)">
                                <option>Load Cloud Save</option>
                            </select>
                            <span class="list_bar"></span>
                        </div>
                    </div>

                    <div id="account_sub_signedOut">
                        <div class="std_input_text">
                            <input type="text" id="signedOut_email" autocomplete="false" required>
                            <span class="text_highlight"></span>
                            <span class="text_bar"></span>
                            <label>Email</label>
                        </div>

                        <div class="std_input_text">
                            <input type="password" id="signedOut_password" readonly onfocus="if (this.hasAttribute('readonly')) {
                                this.removeAttribute('readonly'); this.blur();
                                this.focus();  }
                            " required>
                            <span class="text_highlight"></span>
                            <span class="text_bar"></span>
                            <label>Password</label>
                        </div>

                        <div class="std_body_button" onclick="saveEngine.cloudStorage.signIn(
                            document.getElementById('signedOut_email').value,
                            document.getElementById('signedOut_password').value
                        );
                        " >
                            <span class="button_body">Log In</span>
                            <span class="button_bar"></span>
                        </div>

                        <div class="std_body_button"  style="max-width: initial" onclick="saveEngine.cloudStorage.createNewUser(
                            document.getElementById('signedOut_email').value,
                            document.getElementById('signedOut_password').value
                        );
                        " >
                            <span class="button_body">Create Account</span>
                            <span class="button_bar"></span>
                        </div>

                    </div>
                </div>

                <div id="settings_localStorage" style="display: none;">
                    <h3>
                        Local Storage
                    </h3>

                    <div class="std_body_button"
                            onclick="saveEngine.save(true, false)" >
                        <span class="button_body">Force Save</span>
                        <span class="button_bar"></span>
                    </div>

                    <div class="std_body_list" style="max-width: initial; width: 100%;">
                        <select class="list_body" id="localStorage_saveSelector"
                                onchange="">

                        </select>
                        <span class="list_bar"></span>
                    </div>

                    <div class="std_body_button"
                        onclick="scene = saveEngine.loadLocalSave(getId('localStorage_saveSelector').value)" >
                        <span class="button_body">Load Save</span>
                        <span class="button_bar"></span>
                    </div>
                    <div class="std_body_button"
                        onclick="saveEngine.deleteLocalSave(getId('localStorage_saveSelector').value)">
                        <span class="button_body">Delete Save</span>
                        <span class="button_bar"></span>
                    </div>
                    <div class="std_body_button"
                        onclick="" style="max-width: initial">
                        <span class="button_body">Purge All Saves</span>
                        <span class="button_bar"></span>
                    </div>

                </div>
                <h2>
                    User Interface
                </h2>
                <div class="std_body_button" style="max-width: initial;" onclick="
                    if(window.location.protocol.indexOf('file')===-1 && !document.querySelector('body').requestFullscreen()){
                        document.querySelector('body').requestFullscreen();
                    }
                    else{
                        document.exitFullscreen();
                    }
                    " >
                    <span class="button_body">Toggle Full Screen</span>
                    <span class="button_bar"></span>
                </div>
<!--                <div class="std_body_button" style="max-width: initial;" onclick="-->
<!--                    if(window.location.protocol.indexOf('file')===-1 && !document.querySelector('body').requestFullscreen()){-->
<!--                        document.querySelector('canvas').requestFullscreen();-->
<!--                    }-->
<!--                    else{-->
<!--                        document.exitFullscreen();-->
<!--                    }-->
<!--                    " >-->
<!--                    <span class="button_body">Renderer Full Screen</span>-->
<!--                    <span class="button_bar"></span>-->
<!--                </div>-->


                <h3>
                    Theme
                </h3>

                <div class="std_body_list" style="max-width: initial; width: 100%;">
                    <select class="list_body" id="settings_styleSheetSelector"
                            onchange="
                            settings.userInterface.stylesheetPref=document.getElementById('settings_styleSheetSelector')[document.getElementById('settings_styleSheetSelector').selectedIndex].value;
                            stylesheetLoader(settings.userInterface.stylesheetPref);
                            "
                    >
                        <option value="normalMode">Light Theme</option>
                        <option value="darkMode">Dark Theme</option>
                        <option value="amoledMode">AMOLED Theme</option>
<!--                        <option value="memeMode">Meme Theme</option>-->
                    </select>
                    <span class="list_bar"></span>
                </div>

                <div id="settings_about" style="margin-top: 250%;">

                    <img src="style/assets/pngs/monarchAnimation_Icon.png" alt="monarchAnimation_icon" id="monarchAnimation_icon"/>
                    <p id="about_ProgramName">Monarch Animation</p>
                    <p id="about_ver"><script>document.getElementById("about_ver").innerHTML = settings.version</script></p>

                    <div style="margin-top: 10px"></div>
                    <p class="about_developmentTeam">Animation Engine</p>
                    <p class="development_jobs">Camera | Keyframes | Capture | WebGL/3JS Implementation</p>

                    <ul class="about_credits">
                        <li>Jesse B.</li>
                        <li>Corbin E.</li>
                        <li>Daniel F.</li>
                        <li>Jordan M.</li>
                        
                    </ul>

                    <p class="about_developmentTeam">Save Engine</p>
                    <p class="development_jobs">Local Saves | Online Saves | OBJ Loading | Firebase Implementation</p>

                    <ul class="about_credits">
                        <li>Gregory B.</li>
                        <li>Daniel F.</li>
                    </ul>

                    <p class="about_developmentTeam">Ports</p>
                    <p class="development_jobs">iOS | Android | Local Windows | Local macOS | Local Debian</p>

                    <ul class="about_credits">
                        <li>Gregory B.</li>
                    </ul>

                    <p class="about_developmentTeam">User Interface</p>
                    <p class="development_jobs">UI Design | UI Programing | Logo Design | Icon Design</p>

                    <ul class="about_credits">
                        <li>Gregory B.</li>
                        <li>Sam S.</li>
                    </ul>

                    <div style="margin-bottom: 100%;"></div>
                </div>

            </div>

        </div>

        <div id="std_timeline_popUp" style="display: none">

            <h2 id="timeline_keyframeName">
                timeline_popUp
            </h2>

            <div class="std_input_text">
                <input id="timeline_keyframePlacement" step="any" type="number" onchange="" required>
                <span class="text_highlight"></span>
                <span class="text_bar"></span>
                <label>Keyframe Placement</label>
            </div>
<!--            <p class="timelinePopupMicroText">The above text box allows you to swap the location of a keyframe with another keyframe</p>-->

            <div class="std_input_text">
                <input id="timeline_keyframeDurPlacement" step="any" type="number" onchange="" required>
                <span class="text_highlight"></span>
                <span class="text_bar"></span>
                <label>Keyframe Duration Placement</label>
            </div>
<!--            <p class="timelinePopupMicroText">The above text box allows you to set the location of a keyframe to a specific time on the timeline</p>-->


            <div class="std_input_text">
                <input id="timeline_keyframeDuration" step="any" type="number" onchange="" required>
                <span class="text_highlight"></span>
                <span class="text_bar"></span>
                <label>Keyframe Duration</label>
            </div>
            <div class="std_input_text">
                <input id="timeline_totalAnimationTime" step="any" type="number" onchange="" required>
                <span class="text_highlight"></span>
                <span class="text_bar"></span>
                <label>Adjust Total Animation Time</label>
            </div>

<!--                <div class="std_input_text">-->
<!--                    <input id="" step="any" type="number" onchange="" required>-->
<!--                    <span class="text_highlight"></span>-->
<!--                    <span class="text_bar"></span>-->
<!--                    <label></label>-->
<!--                </div>-->


            <div style="position: absolute; bottom: 18px; height: auto; width: 335px; margin-left: calc(50% - 167.5px);">
                <div class="std_body_button" style="margin-left: calc(50% - 85px); max-width: 171px;"
                     onclick="removeFrame(activeKeyframeIndex); hideKeyframePopup();">
                    <span class="button_body">Remove Keyframe</span>
                    <span class="button_bar"></span>
                </div>
                <div class="std_body_button"
                     onclick="applyChanges(); hideKeyframePopup();">
                    <span class="button_body">Commit Changes</span>
                    <span class="button_bar"></span>
                </div>
                <div class="std_body_button"
                     onclick="hideKeyframePopup();">
                    <span class="button_body">Cancel Changes</span>
                    <span class="button_bar"></span>
                </div>
            </div>
        </div>


        <!--TIMELINE-->
        <div id="std_timeline">

            <div id="timeline_navbar">
                <span id="timeLine_animationStart" class="timeline_text">
                    0 ms
                </span>

                <div id="timelineNavbar_buttonContainer">
                    <span class="timeline_button" id="timeline_addKeyframe" onclick="addFrame()">
                        <img  class="std_icon_normal"
                            src="./style/assets/svgs/timeline_icons/timeline_addKeyframe_icon.svg"
                            />
                        <img  class="std_icon_dark"
                            src="./style/assets/svgs/timeline_icons/timeline_addKeyframe_dark_icon.svg"
                            />
                    </span>
                    <span class="timeline_button" id="timeline_removeKeyframe" onclick="removeFrame(keyFrames.length-1)">
                        <img class="std_icon_normal"
                            src="./style/assets/svgs/timeline_icons/timeline_deleteKeyframe_icon.svg"
                            />
                        <img class="std_icon_dark"
                            src="./style/assets/svgs/timeline_icons/timeline_deleteKeyframe_dark_icon.svg"
                            />
                    </span>
                    <span class="timeline_button" id="timeline_record" onclick="record(); tutorialMovement(300,430,'This is the record button. Press this to record your animation and press it again to stop recording. It is recording when this button is grey.', 0);">
                        <img  class="std_icon_normal"
                              src="./style/assets/svgs/timeline_icons/timeline_record_icon.svg"
                        />
                        <img  class="std_icon_dark"
                              src="./style/assets/svgs/timeline_icons/timeline_record_dark_icon.svg"
                        />
                    </span>
                    <span onclick="playAnimation(lastTickAnimated)" class="timeline_button" id="timeline_play">
                        <img class="std_icon_normal"
                            src="./style/assets/svgs/timeline_icons/timeline_play_icon.svg"
                            />
                        <img class="std_icon_dark"
                             src="./style/assets/svgs/timeline_icons/timeline_play_dark_icon.svg"
                            />
                    </span>
                    <span onclick="loop(); addfortutorial('loop')" class="timeline_button" id="timeline_repeat">
                        <img  class="std_icon_normal"
                            src="./style/assets/svgs/timeline_icons/timeline_loop_icon.svg".
                            />
                        <img  class="std_icon_dark"
                            src="./style/assets/svgs/timeline_icons/timeline_loop_dark_icon.svg"
                            />
                    </span>
                </div>
                <span id="timeLine_animationFinish" class="timeline_text" style="float: right" >

                </span>
            </div>

            <div id="timeline_body">
                <span id="timeline_playHead"></span>
            </div>

<!--            <div id="timeline_keyframeTimes">-->

<!--            </div>-->

        </div>


        <!--MISC ELEMENTS-->
        <!--
            These are elements that are only visible in certain situations
        -->
        <!--
            TUTORIAL STUFF
        -->
        <div id="std_tutorial_popUp" style="display: none;">

            <h2 style="text-align: center">
                Tutorial
            </h2>

            <p style="padding: 10px;">
                BODY TEXT
            </p>
            <div style="position: absolute; bottom: 18px; height: auto; width: 220px; margin-left: calc(50% - 110px);">
                <div class="std_body_button" onclick="" style="max-width: 85px">
                    <span class="button_body">Continue</span>
                    <span class="button_bar"></span>
                </div>

                <div class="std_body_button" onclick="exitTutorial()" style="max-width: 111px">
                    <span class="button_body">Exit Tutorial</span>
                    <span class="button_bar"></span>
                </div>
            </div>

        </div>


        <span id="tutorial_arrow" style="
            position:absolute;
            font-size: 150px;
            color: red;
            z-index: 100;
            display: none;
            transition: 250ms ease all;
        ">&larr;</span> <!--The arrow that points things out for the user-->

        <div id="std_popUp">
            <div class="popUp_body" id="popUp_input_body">
                <h3>
                    std_popUp_input
                </h3>

                <div class="std_input_text">
                    <input type="text" autocomplete="off" required>
                    <span class="text_highlight"></span>
                    <span class="text_bar"></span>
                    <label>Enter</label>
                </div>

                <div class="std_body_button" onclick="hidePopUp()" style="position: absolute; bottom: 0;left: calc(50% - 22.578px);/* margin-right: auto; */">
                    <span class="button_body">ok</span>
                    <span class="button_bar"></span>
                </div>
            </div>

            <div class="popUp_body" id="popUp_error_body">
                <h3>
                    std_popUp_error
                </h3>
                <p style="padding: 5px 10px; text-align: center; font-size: 12pt;">
                    std_popUp_error_context
                </p>
                <div class="std_body_button" onclick="hidePopUp()" style="position: absolute; bottom: 0;left: calc(50% - 22.578px);/* margin-right: auto; */">
                    <span class="button_body">ok</span>
                    <span class="button_bar"></span>
                </div>
            </div>

            <div class="popUp_body" id="popUp_confirm_body">
                <h3>
                    std_popUp_confirm
                </h3>
                <p style="padding: 5px 10px; text-align: center; font-size: 12pt;">
                    std_popUp_confirm_context
                </p>
                <div class="std_body_button" onclick="hidePopUp()" style="position: absolute;bottom: 0;left: calc(35% - 22.578px);/* margin-right: auto; */">
                    <span class="button_body">ok</span>
                    <span class="button_bar"></span>
                </div>
                <div class="std_body_button" onclick="hidePopUp()" style="position: absolute;bottom: 0;left: calc(75% - 58.734px);/* margin-right: auto; */">
                    <span class="button_body">cancel</span>
                    <span class="button_bar"></span>
                </div>
            </div>
        </div>


        <!--RENDER AREA-->
        <div id="animationEngine_renderArea" style="position: absolute; z-index: -10; right:0; bottom:0;">

        </div>

    </div>
    </body>

    <script src="initial.js"></script>
    <script src="scene.js"></script>

    <!--Camera-->
    <script src="Camera.js"></script>

    <!--Animation Engine-->
    <script src="animationEngine/utils.js"></script>
    <script src="animationEngine/keyframes/timeline.js"></script>
    <script src="animationEngine/keyframes/keyframes.js"></script>
    <script src="animationEngine/animate.js"></script>


    <!--Shapes-->
    <script src="animationEngine/animationElements/Shapes/shapes.js"></script>
    <script src="animationEngine/animationElements/Shapes/cube.js"></script>
    <script src="animationEngine/animationElements/Shapes/cylinder.js"></script>
    <script src="animationEngine/animationElements/Shapes/cone.js"></script>
    <script src="animationEngine/animationElements/Shapes/CustomShape2.js"></script>
    <script src="animationEngine/animationElements/Shapes/dodecahedron.js"></script>
    <script src="animationEngine/animationElements/Shapes/icosahedron.js"></script>
    <script src="animationEngine/animationElements/Shapes/octahedron.js"></script>
    <script src="animationEngine/animationElements/Shapes/sphere.js"></script>
    <script src="animationEngine/animationElements/Shapes/pyramid.js"></script>
    <script src="animationEngine/animationElements/Shapes/ring.js"></script>
    <script src="animationEngine/animationElements/Shapes/text.js"></script>
    <script src="animationEngine/animationElements/Shapes/AddFile.js"></script>

    <!--Lights-->
    <script src="animationEngine/animationElements/Lights/lights.js"></script>
    <script src="animationEngine/animationElements/Lights/hemisphereLight.js"></script>
    <script src="animationEngine/animationElements/Lights/spot.js"></script>
    <script src="animationEngine/animationElements/Lights/directional.js"></script>
    <script src="animationEngine/animationElements/Lights/point.js"></script>
    <script src="animationEngine/animationElements/Lights/ambient.js"></script>


    <script>
        if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
            mobile = true;
        }
        mobile = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)
            || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0, 4));

        smallScreen = window.innerHeight <= 800 && !mobile;

    </script>



</html>